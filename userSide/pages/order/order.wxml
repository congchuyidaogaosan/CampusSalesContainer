<view class="container">
  <!-- 订单状态 -->
  <view class="order-status">
    <text class="status-text">{{order.status === 'PAID' ? '待取货' : order.status === 'UNPAID' ? '待支付' : '已取消'}}</text>
  </view>

  <!-- 订单信息 -->
  <view class="order-info">
    <view class="info-item">
      <text class="label">订单编号</text>
      <text class="value">{{order.id}}</text>
    </view>
    <view class="info-item">
      <text class="label">下单时间</text>
      <text class="value">{{order.createTime}}</text>
    </view>
    <view class="info-item">
      <text class="label">取货地点</text>
      <text class="value">{{order.machineName}}</text>
    </view>
  </view>

  <!-- 商品列表 -->
  <view class="order-items">
    <view 
      class="order-item"
      wx:for="{{order.items}}"
      wx:key="id"
    >
      <image src="{{item.imageUrl}}" mode="aspectFill"/>
      <view class="item-info">
        <text class="item-name">{{item.name}}</text>
        <text class="item-price">¥{{item.price}}</text>
        <text class="item-quantity">x{{item.quantity}}</text>
      </view>
    </view>
  </view>

  <!-- 订单金额 -->
  <view class="order-total">
    <text>订单金额</text>
    <text class="total-price">¥{{order.totalPrice}}</text>
  </view>

  <!-- 底部按钮 -->
  <view class="bottom-buttons">
    <button 
      wx:if="{{order.status === 'UNPAID'}}"
      class="cancel-btn"
      bindtap="cancelOrder"
    >取消订单</button>
    <button 
      wx:if="{{order.status === 'CANCELLED'}}"
      class="repurchase-btn"
      bindtap="repurchase"
    >再次购买</button>
  </view>
</view> 